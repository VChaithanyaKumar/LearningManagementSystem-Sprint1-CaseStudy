--sp_adminmodule_add,update,delete course

--procedure to add course
create procedure AddCourse(@CourseTitle varchar(20),@CourseDescription varchar(20),@CourseOutcomes varchar(20))
as
begin
declare @CourseId numeric(10)
select @CourseId=MAX(CourseId) from Course
set @CourseId=@CourseId+1
insert into Course values(@CourseId,@CourseTitle,@CourseDescription,@CourseOutcomes)
end


--procedure to delete a course
create procedure DeleteCourse(@CourseId numeric(10))
as
begin
delete from Course where CourseId=@CourseId
end



--procedure to get all courses
create procedure GetAllCourse
as
begin
select * from Course
end


--procedure to get all users
create procedure GetAllUser
as
begin
select * from [User]
end


--procedure to add questions related to a course
create procedure AddCourseQuestion(@CourseId numeric(10),@QuestionDescription varchar(100),@AnswerDescription varchar(100))
as
begin
declare @QuestionId numeric(10)
select @QuestionId=MAX(QuestionId) from Question
set @QuestionId=@QuestionId+1
insert into Question values(@QuestionId,@CourseId,@QuestionDescription,@AnswerDescription) 
end



--procedure to get questionIds related to a course
create procedure CourseQuestion(@CourseId numeric(10))
as
begin
select QuestionId,CourseId from question where CourseId=@CourseId
end


--procedure to get number of questions related to a course
create procedure CourseQuestionNo(@CourseId numeric(10))
as
begin
select CourseId,COUNT(QuestionId) from Question group by CourseId having CourseId=@CourseId
end


--procedure to delete question (should get the questionId using(procedure to get questionIds related to a course) procedure )
create procedure DeleteCourseQuestion(@QuestionId numeric(10))
as
begin
delete from Question where QuestionId=@QuestionId
end


--procedure to update the course description
create procedure UpdateCourseDescription(@CourseId numeric(10),@CourseDescription varchar(100))
as
begin
update Course set CourseDescription=@CourseDescription where CourseId=@CourseId
end

--procedure to update the course outcome
create procedure UpdateCourseOutcome(@CourseId numeric(10),@CourseOutcome varchar(100))
as
begin
update Course set CourseDescription=@CourseOutcome where CourseId=@CourseId
end